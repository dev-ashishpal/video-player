const player=document.querySelector(".player"),video=player.querySelector(".player--video"),progress=player.querySelector(".progress__bar"),playerControl=player.querySelector(".player--footer"),progressBar=player.querySelector(".progress__bar--filled"),progressThumb=player.querySelector(".progress__bar--thumb"),progressTime=player.querySelector(".progress__bar--timer"),selector=player.querySelector(".progress"),currTime=player.querySelector(".player--time span:first-of-type"),durTime=player.querySelector(".player--time span:last-of-type"),volumeBar=player.querySelector(".volume__bar"),volumeTab=player.querySelector(".player--option__volume"),playBtn=player.querySelector(".player--option__play"),fwdBtn=player.querySelector('[data-skip="10"]'),bwdBtn=player.querySelector('[data-skip="-10"]'),fullscreenBtn=player.querySelector(".player--option__fullscreen"),playerHeading=player.querySelector(".player--heading");let videoTime=localStorage.getItem("videoTime");function fullscreen(){player.requestFullscreen&&player.requestFullscreen(),document.exitFullscreen&&document.exitFullscreen()}function playHandler(){video.paused?video.play():video.pause()}function toggleBtnHandler(){video.paused?playBtn.innerHTML='\n    <use xlink:href="svg/sprite.svg#icon-play"></use>\n    ':playBtn.innerHTML='\n    <use xlink:href="svg/sprite.svg#icon-pause"></use>\n    '}function volumeMuteHandler(){video.muted=!video.muted}function toggleMuteHandler(){video.muted?volumeTab.innerHTML='\n    <use xlink:href="svg/sprite.svg#icon-volume_off"></use>\n    ':volumeTab.innerHTML='\n    <use xlink:href="svg/sprite.svg#icon-volume_up"></use>\n    '}function progressHandler(){const e=video.currentTime/video.duration*100;progressBar.style.width=`${e}%`,progressThumb.style.left=`${e}%`,progressThumb.transform=`translateX(-${e}%)`;let r=Math.floor(video.currentTime/60),t=Math.floor(video.currentTime-60*r),n=Math.floor(video.duration/60),o=Math.floor(video.duration-60*n);t<10&&(t="0"+t),r<10&&(r="0"+r),o<10&&(o="0"+o),currTime.innerHTML=`${r}:${t}`,durTime.innerHTML=`${n}:${o}`,localStorage.setItem("videoTime",video.currentTime)}function volumeSliderHandler(){video[this.name]=this.value}function skipFwdHandler(){video.currentTime+=parseFloat(fwdBtn.dataset.skip)}function skipBwdHandler(){video.currentTime+=parseFloat(bwdBtn.dataset.skip)}function scrub(e){const r=e.offsetX/progress.offsetWidth*video.duration;video.currentTime=r,console.log(r)}video.currentTime=videoTime;const playerAddHeadingHandler=()=>{let e;playerHeading.classList.add("active"),e&&clearTimeout(e),e=setTimeout(mouseStopHeader,1e3)},mouseStopHeader=()=>{playerHeading.classList.remove("active"),console.log("heading-removed")};function progressTimerHandler(e){progressTime.style.left=`${e.offsetX}px`;const r=e.offsetX/progress.offsetWidth*video.duration;let t=Math.floor(r/60),n=Math.floor(r-60*t);n<10&&(n="0"+n),t<10&&(t="0"+t),progressTime.innerHTML=`${t}:${n}`}fullscreenBtn.addEventListener("click",fullscreen),document.addEventListener("keyup",e=>{"f"!==e.key&&"F"!==e.key||fullscreen()}),document.addEventListener("keydown",e=>{"ArrowRight"===e.key&&skipFwdHandler()}),document.addEventListener("keydown",e=>{"ArrowLeft"===e.key&&skipBwdHandler()}),document.addEventListener("keyup",e=>{" "===e.key&&(e.preventDefault(),e.stopPropagation(),playHandler())}),video.addEventListener("dblclick",fullscreen),video.addEventListener("click",playHandler),video.addEventListener("play",toggleBtnHandler),video.addEventListener("pause",toggleBtnHandler),video.addEventListener("timeupdate",progressHandler),video.addEventListener("mousemove",playerAddHeadingHandler),playBtn.addEventListener("click",playHandler),volumeTab.addEventListener("click",volumeMuteHandler),volumeTab.addEventListener("click",toggleMuteHandler),volumeBar.addEventListener("change",volumeSliderHandler),fwdBtn.addEventListener("click",skipFwdHandler),bwdBtn.addEventListener("click",skipBwdHandler),selector.addEventListener("click",scrub),progressThumb.addEventListener("change",scrub),progressBar.addEventListener("mousemove",progressTimerHandler),progress.addEventListener("mousemove",progressTimerHandler);